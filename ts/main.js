(()=>{var r=class{galleryUID;items=[];constructor(t,l=1){if(window.PhotoSwipe==null||window.PhotoSwipeUI_Default==null){console.error("PhotoSwipe lib not loaded.");return}this.galleryUID=l,r.createGallery(t),this.loadItems(t),this.bindClick()}loadItems(t){this.items=[];let l=t.querySelectorAll("figure");for(let i of l){let o=i.querySelector("figcaption"),n=i.querySelector("img"),s={w:parseInt(n.getAttribute("width")),h:parseInt(n.getAttribute("height")),src:n.src,msrc:n.getAttribute("data-thumb")||n.src,el:i};o&&(s.title=o.innerHTML),this.items.push(s)}}static createGallery(t){let l=t.querySelectorAll("figure"),i=[];for(let o of l)i.length?o.previousElementSibling===i[i.length-1]?i.push(o):i.length&&(r.wrap(i),i=[o]):i=[o];i.length>0&&r.wrap(i)}static wrap(t){let l=document.createElement("div");l.className="gallery";let i=t[0].parentNode,o=t[0];i.insertBefore(l,o);for(let n of t)l.appendChild(n)}open(t){let l=document.querySelector(".pswp");new window.PhotoSwipe(l,window.PhotoSwipeUI_Default,this.items,{index:t,galleryUID:this.galleryUID,getThumbBoundsFn:o=>{let n=this.items[o].el.getElementsByTagName("img")[0],s=window.pageYOffset||document.documentElement.scrollTop,m=n.getBoundingClientRect();return{x:m.left,y:m.top+s,w:m.width}}}).init()}bindClick(){for(let[t,l]of this.items.entries())l.el.querySelector("a").addEventListener("click",o=>{o.preventDefault(),this.open(t)})}},d=r;var u=(e,t=500)=>{e.classList.add("transiting"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",window.setTimeout(()=>{e.classList.remove("show"),e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},t)},h=(e,t=500)=>{e.classList.add("transiting"),e.style.removeProperty("display"),e.classList.add("show");let l=e.offsetHeight;e.style.overflow="hidden",e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=l+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("transiting")},t)},f=(e,t=500)=>window.getComputedStyle(e).display==="none"?h(e,t):u(e,t);function p(){let e=document.getElementById("toggle-menu");e&&e.addEventListener("click",()=>{document.getElementById("main-menu").classList.contains("transiting")||(document.body.classList.toggle("show-menu"),f(document.getElementById("main-menu"),300),e.classList.toggle("is-active"))})}function w(e,t,l){var i=document.createElement(e);for(let o in t)if(o&&t.hasOwnProperty(o)){let n=t[o];o=="dangerouslySetInnerHTML"?i.innerHTML=n.__html:n===!0?i.setAttribute(o,o):n!==!1&&n!=null&&i.setAttribute(o,n.toString())}for(let o=2;o<arguments.length;o++){let n=arguments[o];n&&i.appendChild(n.nodeType==null?document.createTextNode(n.toString()):n)}return i}var a=w;var y={init:()=>{p();let e=document.querySelector(".article-content");e&&new d(e);let t=document.querySelectorAll(".article-content .highlight"),l="Copy",i="Copied!";t.forEach(o=>{let n=document.createElement("button");n.innerHTML=l,n.classList.add("copyCodeButton"),o.appendChild(n);let m=o.getElementsByTagName("pre")[0].textContent;n.addEventListener("click",()=>{navigator.clipboard.writeText(m).then(()=>{n.textContent=i,setTimeout(()=>{n.textContent=l},1e3)}).catch(c=>{alert(c),console.log("Something went wrong",c)})})})}};window.addEventListener("load",()=>{setTimeout(function(){y.init()},0)});window.Stack=y;window.createElement=a;})();
/*!
*   Hugo Theme Stack
*
*   @author: Jimmy Cai
*   @website: https://jimmycai.com
*   @link: https://github.com/CaiJimmy/hugo-theme-stack
*/
