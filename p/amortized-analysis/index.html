<!DOCTYPE html>
<html lang="zh-cn">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='æ‘Šè¿˜åˆ†ææ˜¯ä¸€ç§åˆ†æä¸€ä¸ªæ“ä½œåºåˆ—ä¸­æ‰€æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œçš„å¹³å‡æ—¶é—´åˆ†ææ–¹æ³•ã€‚ä¸ä¸€èˆ¬çš„å¹³å‡åˆ†ææ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œå®ƒä¸æ¶‰åŠæ¦‚ç‡çš„åˆ†æï¼Œå¯ä»¥ä¿è¯æœ€åæƒ…å†µä¸‹æ¯ä¸ªæ“ä½œçš„å¹³å‡æ€§èƒ½ã€‚
ä¸‹é¢ä»¥å¸¦æœ‰é¢å¤– MULTIPOP æ“ä½œçš„æ ˆçš„å®ä¾‹ä¸ºä¾‹ï¼Œåˆ†åˆ«å¯¹æ‘Šè¿˜åˆ†æä¸­æœ€å¸¸ç”¨çš„ä¸‰ç§æŠ€æœ¯è¿›è¡Œä»‹ç»ã€‚æœ€åå®šä¹‰ä¸€ç§ç‰¹æ®Šçš„æ“ä½œåºåˆ—ï¼Œå¹¶é€šè¿‡ä»¥ä¸Šä¸‰ç§æ–¹æ³•å¯¹å…¶æ‘Šè¿˜ä»£ä»·è¿›è¡Œåˆ†æã€‚
èšåˆåˆ†æ Aggregate Analysis æ¦‚å¿µä¸å®šä¹‰ è¯æ˜å¯¹æ‰€æœ‰ $n$ï¼Œä¸€ä¸ª $n$ ä¸ªæ“ä½œçš„åºåˆ—æœ€åæƒ…å†µä¸‹èŠ±è´¹çš„æ€»æ—¶é—´ä¸º $T(n)$ã€‚å› æ­¤ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ“ä½œçš„å¹³å‡ä»£ä»·ï¼ˆæˆ–æ‘Šè¿˜ä»£ä»·ï¼‰ä¸º $T(n)/n$ã€‚
æ­¤æ‘Šè¿˜ä»£ä»·é€‚ç”¨äºåºåˆ—ä¸­çš„æ¯ä¸ªæ“ä½œï¼ˆå³ä½¿æ“ä½œç±»å‹ä¸åŒä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚
è€ƒè™‘æ ˆæ“ä½œï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„åŸºæœ¬æ ˆæ“ä½œï¼š
 PUSH(S, x)ï¼šå°†å¯¹è±¡ x å‹å…¥æ ˆ S ä¸­ï¼Œæ—¶é—´ $O(1)$ï¼› POP(S)ï¼šå°†æ ˆ S çš„æ ˆé¡¶å¯¹è±¡å¼¹å‡ºï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡ï¼Œæ—¶é—´ $O(1)$ã€‚  åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªæ–°çš„æ ˆæ“ä½œ MULTIPOPï¼Œæ—¶é—´ $O(min(s, k))$ã€‚
MULTIPOP(S, k) 1 while not STACK-EMPTY(S) and k &amp;gt; 0 2 POP(S) 3 k = k - 1 åŸºæœ¬åˆ†æ é—®é¢˜ï¼šä»¥ä¸€ä¸ªç”± n ä¸ª PUSHã€POPã€MULTIPOP æ“ä½œçš„åºåˆ—ä½œç”¨äºä¸€ä¸ªç©ºæ ˆ Sï¼Œæ€»è¿è¡Œæ—¶é—´ï¼Ÿ
 æ¯ä¸ªæ“ä½œéƒ½å¯èƒ½æ˜¯ MULTIPOPï¼› æ¯ä¸ª MULTIPOP çš„è¿è¡Œæ—¶é—´æ˜¯ $O(\min(k, s)=O(n)$ï¼› æ€»çš„è¿è¡Œæ—¶é—´çš„ä¸Šç•Œä¸º $O(n^2)$ã€‚  è™½ç„¶è¿™ä¸ªåˆ†ææ˜¯æ­£ç¡®çš„ï¼Œä½†æˆ‘ä»¬é€šè¿‡å•ç‹¬åˆ†ææ¯ä¸ªæ“ä½œçš„æœ€åæƒ…å†µå¾—åˆ°çš„æ€»æœ€åæƒ…å†µæ—¶é—´ $O(n^2)$ å¹¶ä¸æ˜¯ä¸€ä¸ªç¡®ç•Œã€‚'><title>ç®—æ³•å­¦ä¹ ç¬”è®°ï¼šæ‘Šè¿˜åˆ†æ Amortized Analysis</title>

<link rel='canonical' href='https://blog.pkulkw.me/p/amortized-analysis/'>

<link rel="stylesheet" href="/scss/style.min.css"><meta property='og:title' content='ç®—æ³•å­¦ä¹ ç¬”è®°ï¼šæ‘Šè¿˜åˆ†æ Amortized Analysis'>
<meta property='og:description' content='æ‘Šè¿˜åˆ†ææ˜¯ä¸€ç§åˆ†æä¸€ä¸ªæ“ä½œåºåˆ—ä¸­æ‰€æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œçš„å¹³å‡æ—¶é—´åˆ†ææ–¹æ³•ã€‚ä¸ä¸€èˆ¬çš„å¹³å‡åˆ†ææ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œå®ƒä¸æ¶‰åŠæ¦‚ç‡çš„åˆ†æï¼Œå¯ä»¥ä¿è¯æœ€åæƒ…å†µä¸‹æ¯ä¸ªæ“ä½œçš„å¹³å‡æ€§èƒ½ã€‚
ä¸‹é¢ä»¥å¸¦æœ‰é¢å¤– MULTIPOP æ“ä½œçš„æ ˆçš„å®ä¾‹ä¸ºä¾‹ï¼Œåˆ†åˆ«å¯¹æ‘Šè¿˜åˆ†æä¸­æœ€å¸¸ç”¨çš„ä¸‰ç§æŠ€æœ¯è¿›è¡Œä»‹ç»ã€‚æœ€åå®šä¹‰ä¸€ç§ç‰¹æ®Šçš„æ“ä½œåºåˆ—ï¼Œå¹¶é€šè¿‡ä»¥ä¸Šä¸‰ç§æ–¹æ³•å¯¹å…¶æ‘Šè¿˜ä»£ä»·è¿›è¡Œåˆ†æã€‚
èšåˆåˆ†æ Aggregate Analysis æ¦‚å¿µä¸å®šä¹‰ è¯æ˜å¯¹æ‰€æœ‰ $n$ï¼Œä¸€ä¸ª $n$ ä¸ªæ“ä½œçš„åºåˆ—æœ€åæƒ…å†µä¸‹èŠ±è´¹çš„æ€»æ—¶é—´ä¸º $T(n)$ã€‚å› æ­¤ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ“ä½œçš„å¹³å‡ä»£ä»·ï¼ˆæˆ–æ‘Šè¿˜ä»£ä»·ï¼‰ä¸º $T(n)/n$ã€‚
æ­¤æ‘Šè¿˜ä»£ä»·é€‚ç”¨äºåºåˆ—ä¸­çš„æ¯ä¸ªæ“ä½œï¼ˆå³ä½¿æ“ä½œç±»å‹ä¸åŒä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚
è€ƒè™‘æ ˆæ“ä½œï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„åŸºæœ¬æ ˆæ“ä½œï¼š
 PUSH(S, x)ï¼šå°†å¯¹è±¡ x å‹å…¥æ ˆ S ä¸­ï¼Œæ—¶é—´ $O(1)$ï¼› POP(S)ï¼šå°†æ ˆ S çš„æ ˆé¡¶å¯¹è±¡å¼¹å‡ºï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡ï¼Œæ—¶é—´ $O(1)$ã€‚  åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªæ–°çš„æ ˆæ“ä½œ MULTIPOPï¼Œæ—¶é—´ $O(min(s, k))$ã€‚
MULTIPOP(S, k) 1 while not STACK-EMPTY(S) and k &amp;gt; 0 2 POP(S) 3 k = k - 1 åŸºæœ¬åˆ†æ é—®é¢˜ï¼šä»¥ä¸€ä¸ªç”± n ä¸ª PUSHã€POPã€MULTIPOP æ“ä½œçš„åºåˆ—ä½œç”¨äºä¸€ä¸ªç©ºæ ˆ Sï¼Œæ€»è¿è¡Œæ—¶é—´ï¼Ÿ
 æ¯ä¸ªæ“ä½œéƒ½å¯èƒ½æ˜¯ MULTIPOPï¼› æ¯ä¸ª MULTIPOP çš„è¿è¡Œæ—¶é—´æ˜¯ $O(\min(k, s)=O(n)$ï¼› æ€»çš„è¿è¡Œæ—¶é—´çš„ä¸Šç•Œä¸º $O(n^2)$ã€‚  è™½ç„¶è¿™ä¸ªåˆ†ææ˜¯æ­£ç¡®çš„ï¼Œä½†æˆ‘ä»¬é€šè¿‡å•ç‹¬åˆ†ææ¯ä¸ªæ“ä½œçš„æœ€åæƒ…å†µå¾—åˆ°çš„æ€»æœ€åæƒ…å†µæ—¶é—´ $O(n^2)$ å¹¶ä¸æ˜¯ä¸€ä¸ªç¡®ç•Œã€‚'>
<meta property='og:url' content='https://blog.pkulkw.me/p/amortized-analysis/'>
<meta property='og:site_name' content='Li Kangwei'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Algorithm' /><meta property='article:tag' content='Math' /><meta property='article:published_time' content='2021-05-07T09:00:00&#43;08:00'/><meta property='article:modified_time' content='2021-05-07T09:00:00&#43;08:00'/><meta property='og:image' content='https://blog.pkulkw.me/p/amortized-analysis/cover.jpg' />
<meta name="twitter:site" content="@whoamamamiii">
    <meta name="twitter:creator" content="@whoamamamiii"><meta name="twitter:title" content="ç®—æ³•å­¦ä¹ ç¬”è®°ï¼šæ‘Šè¿˜åˆ†æ Amortized Analysis">
<meta name="twitter:description" content="æ‘Šè¿˜åˆ†ææ˜¯ä¸€ç§åˆ†æä¸€ä¸ªæ“ä½œåºåˆ—ä¸­æ‰€æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œçš„å¹³å‡æ—¶é—´åˆ†ææ–¹æ³•ã€‚ä¸ä¸€èˆ¬çš„å¹³å‡åˆ†ææ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œå®ƒä¸æ¶‰åŠæ¦‚ç‡çš„åˆ†æï¼Œå¯ä»¥ä¿è¯æœ€åæƒ…å†µä¸‹æ¯ä¸ªæ“ä½œçš„å¹³å‡æ€§èƒ½ã€‚
ä¸‹é¢ä»¥å¸¦æœ‰é¢å¤– MULTIPOP æ“ä½œçš„æ ˆçš„å®ä¾‹ä¸ºä¾‹ï¼Œåˆ†åˆ«å¯¹æ‘Šè¿˜åˆ†æä¸­æœ€å¸¸ç”¨çš„ä¸‰ç§æŠ€æœ¯è¿›è¡Œä»‹ç»ã€‚æœ€åå®šä¹‰ä¸€ç§ç‰¹æ®Šçš„æ“ä½œåºåˆ—ï¼Œå¹¶é€šè¿‡ä»¥ä¸Šä¸‰ç§æ–¹æ³•å¯¹å…¶æ‘Šè¿˜ä»£ä»·è¿›è¡Œåˆ†æã€‚
èšåˆåˆ†æ Aggregate Analysis æ¦‚å¿µä¸å®šä¹‰ è¯æ˜å¯¹æ‰€æœ‰ $n$ï¼Œä¸€ä¸ª $n$ ä¸ªæ“ä½œçš„åºåˆ—æœ€åæƒ…å†µä¸‹èŠ±è´¹çš„æ€»æ—¶é—´ä¸º $T(n)$ã€‚å› æ­¤ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ“ä½œçš„å¹³å‡ä»£ä»·ï¼ˆæˆ–æ‘Šè¿˜ä»£ä»·ï¼‰ä¸º $T(n)/n$ã€‚
æ­¤æ‘Šè¿˜ä»£ä»·é€‚ç”¨äºåºåˆ—ä¸­çš„æ¯ä¸ªæ“ä½œï¼ˆå³ä½¿æ“ä½œç±»å‹ä¸åŒä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚
è€ƒè™‘æ ˆæ“ä½œï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„åŸºæœ¬æ ˆæ“ä½œï¼š
 PUSH(S, x)ï¼šå°†å¯¹è±¡ x å‹å…¥æ ˆ S ä¸­ï¼Œæ—¶é—´ $O(1)$ï¼› POP(S)ï¼šå°†æ ˆ S çš„æ ˆé¡¶å¯¹è±¡å¼¹å‡ºï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡ï¼Œæ—¶é—´ $O(1)$ã€‚  åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªæ–°çš„æ ˆæ“ä½œ MULTIPOPï¼Œæ—¶é—´ $O(min(s, k))$ã€‚
MULTIPOP(S, k) 1 while not STACK-EMPTY(S) and k &amp;gt; 0 2 POP(S) 3 k = k - 1 åŸºæœ¬åˆ†æ é—®é¢˜ï¼šä»¥ä¸€ä¸ªç”± n ä¸ª PUSHã€POPã€MULTIPOP æ“ä½œçš„åºåˆ—ä½œç”¨äºä¸€ä¸ªç©ºæ ˆ Sï¼Œæ€»è¿è¡Œæ—¶é—´ï¼Ÿ
 æ¯ä¸ªæ“ä½œéƒ½å¯èƒ½æ˜¯ MULTIPOPï¼› æ¯ä¸ª MULTIPOP çš„è¿è¡Œæ—¶é—´æ˜¯ $O(\min(k, s)=O(n)$ï¼› æ€»çš„è¿è¡Œæ—¶é—´çš„ä¸Šç•Œä¸º $O(n^2)$ã€‚  è™½ç„¶è¿™ä¸ªåˆ†ææ˜¯æ­£ç¡®çš„ï¼Œä½†æˆ‘ä»¬é€šè¿‡å•ç‹¬åˆ†ææ¯ä¸ªæ“ä½œçš„æœ€åæƒ…å†µå¾—åˆ°çš„æ€»æœ€åæƒ…å†µæ—¶é—´ $O(n^2)$ å¹¶ä¸æ˜¯ä¸€ä¸ªç¡®ç•Œã€‚"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://blog.pkulkw.me/p/amortized-analysis/cover.jpg' /><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#555fe4">
    </head>
    <body class="">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            localStorage.setItem(colorSchemeKey, "light");
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.body.dataset.scheme = 'dark';
        } else {
            document.body.dataset.scheme = 'light';
        }
    })();
</script><div class="container main-container flex on-phone--column extended article-page with-toolbar">
            <aside class="sidebar left-sidebar sticky">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header class="site-info">
        
            <figure class="site-avatar">
                
                    <img src="https://cdn.jsdelivr.net/gh/synthpop123/imagebed@master/img/flash_avatar.jpg" width="300" height="300" class="site-logo" loading="lazy" alt="Avatar">
                

                
                    <span class="emoji">ğŸ”¥</span>
                
            </figure>
        
        <h1 class="site-name"><a href="https://blog.pkulkw.me/">Li Kangwei</a></h1>
        <h2 class="site-description">Think Different</h2>
    </header>

    <ol class="menu" id="main-menu">
        
        
        

        <li >
            <a href='/'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>Home</span>
            </a>
        </li>
        
        

        <li >
            <a href='/archives'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>Archives</span>
            </a>
        </li>
        
        

        <li >
            <a href='/about'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>About</span>
            </a>
        </li>
        
        

        <li >
            <a href='/index.xml'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rss" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="5" cy="19" r="1" />
  <path d="M4 4a16 16 0 0 1 16 16" />
  <path d="M4 11a9 9 0 0 1 9 9" />
</svg>



                
                <span>RSS</span>
            </a>
        </li>
        
        

        <li >
            <a href='/search'>
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>Search</span>
            </a>
        </li>
        

        
    </ol>
</aside>

            <main class="main full-width">
    <div id="article-toolbar">
        <a href="https://blog.pkulkw.me/" class="back-home">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="15 6 9 12 15 18" />
</svg>



            <span>Back</span>
        </a>
    </div>

    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/amortized-analysis/">
                <img src="/p/amortized-analysis/cover_hu5bf7d5f6bee541445b69a913d54e5097_55137_800x0_resize_q75_box.jpg"
                        srcset="/p/amortized-analysis/cover_hu5bf7d5f6bee541445b69a913d54e5097_55137_800x0_resize_q75_box.jpg 800w, /p/amortized-analysis/cover_hu5bf7d5f6bee541445b69a913d54e5097_55137_1600x0_resize_q75_box.jpg 1600w"
                        width="800" 
                        height="500" 
                        loading="lazy"
                        alt="Featured image of post ç®—æ³•å­¦ä¹ ç¬”è®°ï¼šæ‘Šè¿˜åˆ†æ Amortized Analysis" />
                
            </a>
        </div>
    

    
<div class="article-details">


    <h2 class="article-title">
        <a href="/p/amortized-analysis/">ç®—æ³•å­¦ä¹ ç¬”è®°ï¼šæ‘Šè¿˜åˆ†æ Amortized Analysis</a>
    </h2>

    <footer class="article-time">
        <time class="article-time--published"></time>
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>


May 07, 2021&nbsp;&nbsp;&nbsp;&nbsp;

    
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder2" viewBox="0 0 16 16">
  <path d="M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v7a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 12.5v-9zM2.5 3a.5.5 0 0 0-.5.5V6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5zM14 7H2v5.5a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5V7z"/>
</svg>
        
            <a style="color: inherit;" href="/categories/study/">
                Study
            </a>&nbsp;&nbsp;
        
    
    </footer></div>
</header>

    <section class="article-content">
    <p>æ‘Šè¿˜åˆ†ææ˜¯ä¸€ç§åˆ†æä¸€ä¸ªæ“ä½œåºåˆ—ä¸­æ‰€æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œçš„å¹³å‡æ—¶é—´åˆ†ææ–¹æ³•ã€‚ä¸ä¸€èˆ¬çš„å¹³å‡åˆ†ææ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œ<strong>å®ƒä¸æ¶‰åŠæ¦‚ç‡çš„åˆ†æï¼Œå¯ä»¥ä¿è¯æœ€åæƒ…å†µä¸‹æ¯ä¸ªæ“ä½œçš„å¹³å‡æ€§èƒ½</strong>ã€‚</p>
<p>ä¸‹é¢ä»¥å¸¦æœ‰é¢å¤– MULTIPOP æ“ä½œçš„æ ˆçš„å®ä¾‹ä¸ºä¾‹ï¼Œåˆ†åˆ«å¯¹æ‘Šè¿˜åˆ†æä¸­æœ€å¸¸ç”¨çš„ä¸‰ç§æŠ€æœ¯è¿›è¡Œä»‹ç»ã€‚æœ€åå®šä¹‰ä¸€ç§ç‰¹æ®Šçš„æ“ä½œåºåˆ—ï¼Œå¹¶é€šè¿‡ä»¥ä¸Šä¸‰ç§æ–¹æ³•å¯¹å…¶æ‘Šè¿˜ä»£ä»·è¿›è¡Œåˆ†æã€‚</p>
<h2 id="èšåˆåˆ†æ-aggregate-analysis">èšåˆåˆ†æ Aggregate Analysis</h2>
<h3 id="æ¦‚å¿µä¸å®šä¹‰">æ¦‚å¿µä¸å®šä¹‰</h3>
<p>è¯æ˜å¯¹æ‰€æœ‰ $n$ï¼Œä¸€ä¸ª $n$ ä¸ªæ“ä½œçš„åºåˆ—æœ€åæƒ…å†µä¸‹èŠ±è´¹çš„æ€»æ—¶é—´ä¸º $T(n)$ã€‚å› æ­¤ï¼Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ“ä½œçš„å¹³å‡ä»£ä»·ï¼ˆæˆ–æ‘Šè¿˜ä»£ä»·ï¼‰ä¸º $T(n)/n$ã€‚</p>
<p>æ­¤æ‘Šè¿˜ä»£ä»·é€‚ç”¨äºåºåˆ—ä¸­çš„æ¯ä¸ªæ“ä½œï¼ˆå³ä½¿æ“ä½œç±»å‹ä¸åŒä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ã€‚</p>
<p>è€ƒè™‘æ ˆæ“ä½œï¼Œæˆ‘ä»¬ç†ŸçŸ¥çš„åŸºæœ¬æ ˆæ“ä½œï¼š</p>
<ul>
<li><code>PUSH(S, x)</code>ï¼šå°†å¯¹è±¡ x å‹å…¥æ ˆ S ä¸­ï¼Œæ—¶é—´ $O(1)$ï¼›</li>
<li><code>POP(S)</code>ï¼šå°†æ ˆ S çš„æ ˆé¡¶å¯¹è±¡å¼¹å‡ºï¼Œå¹¶è¿”å›è¯¥å¯¹è±¡ï¼Œæ—¶é—´ $O(1)$ã€‚</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¢åŠ ä¸€ä¸ªæ–°çš„æ ˆæ“ä½œ MULTIPOPï¼Œæ—¶é—´ $O(min(s, k))$ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="n">MULTIPOP</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
<span class="mi">1</span>  <span class="k">while</span> <span class="ow">not</span> <span class="n">STACK</span><span class="o">-</span><span class="n">EMPTY</span><span class="p">(</span><span class="n">S</span><span class="p">)</span> <span class="ow">and</span> <span class="n">k</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="mi">2</span>     <span class="n">POP</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="mi">3</span>     <span class="n">k</span> <span class="o">=</span> <span class="n">k</span> <span class="o">-</span> <span class="mi">1</span>
</code></pre></div><h3 id="åŸºæœ¬åˆ†æ">åŸºæœ¬åˆ†æ</h3>
<p>é—®é¢˜ï¼šä»¥ä¸€ä¸ªç”± n ä¸ª PUSHã€POPã€MULTIPOP æ“ä½œçš„åºåˆ—ä½œç”¨äºä¸€ä¸ªç©ºæ ˆ Sï¼Œæ€»è¿è¡Œæ—¶é—´ï¼Ÿ</p>
<ul>
<li>æ¯ä¸ªæ“ä½œéƒ½å¯èƒ½æ˜¯ MULTIPOPï¼›</li>
<li>æ¯ä¸ª MULTIPOP çš„è¿è¡Œæ—¶é—´æ˜¯ $O(\min(k, s)=O(n)$ï¼›</li>
<li>æ€»çš„è¿è¡Œæ—¶é—´çš„ä¸Šç•Œä¸º $O(n^2)$ã€‚</li>
</ul>
<p>è™½ç„¶è¿™ä¸ªåˆ†ææ˜¯æ­£ç¡®çš„ï¼Œä½†æˆ‘ä»¬é€šè¿‡å•ç‹¬åˆ†ææ¯ä¸ªæ“ä½œçš„æœ€åæƒ…å†µå¾—åˆ°çš„æ€»æœ€åæƒ…å†µæ—¶é—´ $O(n^2)$ å¹¶ä¸æ˜¯ä¸€ä¸ªç¡®ç•Œã€‚</p>
<p>è€ƒå¯Ÿå‡ºç°è¿™ç§æƒ…å†µçš„åŸå› ï¼Œæˆ‘ä»¬å‘ç°ï¼š<strong>è¿™ 3 ç§æ“ä½œä¸æ˜¯å¹³è¡Œçš„ï¼Œè€Œæ˜¯äº’ç›¸å½±å“çš„</strong>ã€‚æ¢è¨€ä¹‹ï¼Œåªæœ‰æˆ‘ä»¬æ¯æ¬¡é€šè¿‡ PUSH åˆ›é€  â€œæœºä¼šâ€ ç»™ POP å’Œ MULTIPOPï¼ŒPOP å’ŒMULTIPOP æ‰èƒ½ â€œæ¶ˆè´¹â€ è¿™äº›æœºä¼šï¼Œè€Œä¸å­˜åœ¨æ— é™åˆ¶çš„æ¶ˆè´¹ã€‚</p>
<h3 id="é€šè¿‡èšåˆåˆ†æç¡®å®šæ‘Šè¿˜ä»£ä»·">é€šè¿‡èšåˆåˆ†æç¡®å®šæ‘Šè¿˜ä»£ä»·</h3>
<p>åŸç†ï¼š<strong>å°†ä¸€ä¸ªå¯¹è±¡å‹å…¥æ ˆåï¼Œæˆ‘ä»¬è‡³å¤šå°†å…¶å¼¹å‡ºä¸€æ¬¡</strong>ã€‚</p>
<p>å› æ­¤ï¼Œå¯¹ä¸€ä¸ªéç©ºçš„æ ˆï¼Œå¯ä»¥æ‰§è¡Œçš„ POP æ“ä½œçš„æ¬¡æ•°(åŒ…æ‹¬äº† MULTIPOP ä¸­è°ƒç”¨ POP çš„æ¬¡æ•°)æœ€å¤šä¸ PUSH æ“ä½œçš„æ¬¡æ•°ç›¸å½“ï¼Œå³æœ€å¤š n æ¬¡ã€‚</p>
<p>å¯¹ä»»æ„çš„ n å€¼ï¼Œä»»æ„ä¸€ä¸ªç”± n ä¸ª PUSHã€POP å’Œ MULTIPOP ç»„æˆçš„æ“ä½œåºåˆ—ï¼Œæœ€å¤šèŠ±è´¹ $O(n)$ æ—¶é—´ã€‚æ•…ä¸€ä¸ªæ“ä½œçš„å¹³å‡æ—¶é—´ä¸º $O(n)/n=O(1)$ã€‚</p>
<h2 id="æ ¸ç®—æ³•-accounting-method">æ ¸ç®—æ³• Accounting Method</h2>
<h3 id="æ¦‚å¿µä¸å®šä¹‰-1">æ¦‚å¿µä¸å®šä¹‰</h3>
<p>å¯¹ä¸åŒæ“ä½œèµ‹äºˆä¸åŒè´¹ç”¨ï¼Œèµ‹äºˆæŸäº›æ“ä½œçš„è´¹ç”¨å¯èƒ½å¤šäºæˆ–å°‘äºå…¶å®é™…ä»£ä»·ã€‚</p>
<p>æˆ‘ä»¬å°†èµ‹äºˆä¸€ä¸ªæ“ä½œçš„è´¹ç”¨ç§°ä¸ºå®ƒçš„<strong>æ‘Šè¿˜ä»£ä»·</strong>ã€‚å½“ä¸€ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·è¶…å‡ºå…¶å®é™…ä»£ä»·æ—¶ï¼Œæˆ‘ä»¬å°†å·®é¢å­˜å…¥æ•°æ®ç»“æ„ä¸­çš„ç‰¹å®šå¯¹è±¡ï¼Œå­˜å…¥çš„å·®é¢ç§°ä¸º<strong>ä¿¡ç”¨</strong>ã€‚</p>
<p>æ³¨æ„ï¼Œæ•°æ®ç»“æ„ä¸­å­˜å‚¨çš„ä¿¡ç”¨æ°¸è¿œä¸º<strong>éè´Ÿå€¼</strong>ã€‚å¦åˆ™å¯¹äºåˆ°æ­¤æ—¶ä¸ºæ­¢çš„æ“ä½œåºåˆ—ï¼Œæ€»æ‘Šè¿˜ä»£ä»·ä¸å†æ˜¯æ€»å®é™…ä»£ä»·çš„ä¸Šç•Œã€‚</p>
<h3 id="é€šè¿‡æ ¸ç®—æ³•ç¡®å®šæ‘Šè¿˜ä»£ä»·">é€šè¿‡æ ¸ç®—æ³•ç¡®å®šæ‘Šè¿˜ä»£ä»·</h3>
<p>$$
\begin{array}{|c|c|c|}
\hline \text { æ“ä½œ } &amp; \text { å®é™…ä»£ä»· } &amp; \text { æ‘Šè¿˜ä»£ä»· } \\ \hline \text { PUSH } &amp; \mathbf{1} &amp; \mathbf{2} \\ \hline \text { POP } &amp; \mathbf{1} &amp; \mathbf{0} \\ \hline \text { MULTIPOP } &amp; \min (\boldsymbol{k}, \boldsymbol{s}) &amp; \mathbf{0} \\ \hline
\end{array}
$$</p>
<p>å¯¹ PUSH æ“ä½œèµ‹äºˆä»£ä»· 2 å…ƒï¼š<strong>1 å…ƒæ”¯ä»˜å‹æ ˆæ“ä½œçš„å®é™…ä»£ä»·ï¼Œå‰©ä½™çš„ 1 å…ƒå­˜ä¸ºä¿¡ç”¨</strong>ã€‚</p>
<p>å½“æ‰§è¡Œä¸€ä¸ª POP/MULTIPOP æ“ä½œæ—¶ï¼Œä¸å†å¤šç¼´çº³è´¹ç”¨ï¼Œè€Œæ˜¯ä»å­˜å‚¨çš„ä¿¡ç”¨å–å‡º 1 å…ƒ/k å…ƒæ¥æ”¯ä»˜å…¶å®é™…ä»£ä»·ã€‚</p>
<h2 id="åŠ¿èƒ½æ³•-potential-method">åŠ¿èƒ½æ³• Potential Method</h2>
<h3 id="æ¦‚å¿µä¸å®šä¹‰-2">æ¦‚å¿µä¸å®šä¹‰</h3>
<p>å¹¶ä¸å°†é¢„ä»˜ä»£ä»·è¡¨ç¤ºä¸ºæ•°æ®ç»“æ„ä¸­ç‰¹å®šå¯¹è±¡çš„ä¿¡ç”¨ï¼Œè€Œæ˜¯è¡¨ç¤ºä¸º â€œåŠ¿èƒ½â€ï¼Œæˆ–ç®€ç§° â€œåŠ¿â€ï¼Œ<strong>å°†åŠ¿èƒ½é‡Šæ”¾å³å¯ç”¨æ¥æ”¯ä»˜æœªæ¥æ“ä½œçš„ä»£ä»·</strong>ã€‚</p>
<p>ä¸éœ€è¦ç®¡å…³å¿ƒå­˜å‚¨å¤šå°‘ä¿¡ç”¨ï¼Œè€Œæ˜¯åªéœ€è¦è¯æ˜ï¼Œæ¯ä¸ªæ“ä½œç§¯ç´¯çš„åŠ¿èƒ½æ˜¯å¸¸æ•°çš„ï¼Œåˆ«çš„æ“ä½œåªæ˜¯æ¶ˆè´¹åŠ¿èƒ½å°±å¥½äº†ã€‚</p>
<p>åŠ¿èƒ½æ³•å·¥ä½œæ–¹å¼å¦‚ä¸‹ã€‚æˆ‘ä»¬å°†å¯¹ä¸€ä¸ªåˆå§‹æ•°æ®ç»“æ„ $D_{0}$ æ‰§è¡Œ $n$ ä¸ªæ“ä½œã€‚å¯¹æ¯ä¸ª $i=1,2, \cdots,n$ï¼Œä»¤ $c_{i}$ ä¸ºç¬¬ i ä¸ªæ“ä½œçš„å®é™…ä»£ä»·ï¼Œä»¤ $D_{i}$ ä¸ºåœ¨æ•°æ®ç»“æ„ $D_{i-1}$ ä¸Šæ‰§è¡Œç¬¬ i ä¸ªæ“ä½œå¾—åˆ°çš„ç»“æœæ•°æ®ç»“æ„ã€‚</p>
<p><strong>åŠ¿å‡½æ•°</strong> $\Phi$ å°†æ¯ä¸ªæ•°æ®ç»“æ„ $D_{i}$ æ˜ å°„åˆ°ä¸€ä¸ªå®æ•° $\Phi\left(D_{i}\right)$ï¼Œæ­¤å€¼å³ä¸ºå…³è”åˆ°æ•°æ®ç»“æ„ $D_{i}$ çš„åŠ¿ã€‚</p>
<p>ç¬¬ i ä¸ªæ“ä½œçš„<strong>æ‘Šè¿˜ä»£ä»·</strong> $\hat{c}_{i}$ ç”¨åŠ¿å‡½æ•° $\Phi$ å®šä¹‰ä¸ºï¼š</p>
<p>$$ \hat c_{i}=c_{i}+\Phi(D_{i})- \Phi(D_{i-1}) $$</p>
<p>å› æ­¤ï¼Œæ¯ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·ç­‰äºå…¶å®é™…ä»£ä»·åŠ ä¸Šæ­¤æ“ä½œå¼•èµ·çš„åŠ¿èƒ½å˜åŒ–ã€‚åˆ™ n ä¸ªæ“ä½œçš„æ€»æ‘Šè¿˜ä»£ä»·ä¸º</p>
<p>$$
\begin{aligned}
\sum_{i=1}^{n} \widehat{c}_{i} &amp;=\sum_{i=1}^{n}\left(c_{i}+\Phi\left(D_{i}\right)-\Phi\left(D_{i-1}\right)\right) \\ &amp;=\sum_{i=1}^{n} c_{i}+\Phi\left(D_{n}\right)-\Phi\left(D_{0}\right)
\end{aligned}
$$</p>
<h3 id="é€šè¿‡åŠ¿èƒ½æ³•ç¡®å®šæ‘Šè¿˜ä»£ä»·">é€šè¿‡åŠ¿èƒ½æ³•ç¡®å®šæ‘Šè¿˜ä»£ä»·</h3>
<p>å°†ä¸€ä¸ªæ ˆçš„åŠ¿å‡½æ•°å®šä¹‰ä¸ºå…¶ä¸­çš„å¯¹è±¡æ•°é‡ã€‚</p>
<ul>
<li>å¯¹åˆå§‹ç©ºæ ˆ $D_0$ï¼Œä»¤ $\Phi(D_0)ï¼0$</li>
<li>ç”±äºæ ˆä¸­å¯¹è±¡æ•°ç›®éè´Ÿï¼Œåˆ™æœ‰ $\Phi(D_i) \geqslant 0 = \Phi(D_0)$</li>
</ul>
<p>å› æ­¤ç”¨ $\Phi$ å®šä¹‰çš„ n ä¸ªæ“ä½œçš„<strong>æ€»æ‘Šè¿˜ä»£ä»·å³ä¸ºå®é™…ä»£ä»·çš„ä¸€ä¸ªä¸Šç•Œ</strong>ã€‚</p>
<p>ä¸‹é¢è®¡ç®—ä¸åŒæ ˆæ“ä½œçš„æ‘Šè¿˜ä»£ä»·ã€‚å¦‚æœç¬¬ i ä¸ªæ“ä½œæ˜¯ PUSH æ“ä½œï¼Œæ­¤æ—¶æ ˆä¸­åŒ…å« s ä¸ªå¯¹è±¡ï¼Œåˆ™åŠ¿å·®ä¸º</p>
<p>$$
\Phi\left(D_{i}\right)-\Phi\left(D_{i-1}\right)=(s+1)-s=1
$$</p>
<p>åˆ™ç”±é¢˜æ„ï¼ŒPUSH æ“ä½œçš„æ‘Šè¿˜ä»£ä»·ä¸º</p>
<p>$$
\hat c_{i}=c_{i}+\Phi\left(D_{i}\right)-\Phi\left(D_{i-1}\right)=1+1=2
$$</p>
<p>å‡è®¾ç¬¬ i ä¸ªæ“ä½œæ˜¯ <code>MULTIPOP(S, k)</code>ï¼Œå°† $k^{\prime}=\min (k, s)$ ä¸ªå¯¹è±¡å¼¹å‡ºæ ˆã€‚å¯¹è±¡çš„å®é™…ä»£ä»·ä¸º $k^{\prime}$ï¼ŒåŠ¿å·®ä¸º</p>
<p>$$
\Phi\left(D_{i}\right)-\Phi\left(D_{i-1}\right)=-k^{\prime}
$$</p>
<p>å› æ­¤ï¼ŒMULTIPOP çš„æ‘Šè¿˜ä»£ä»·ä¸º</p>
<p>$$
\hat c_{i}=c_{i}+\Phi\left(D_{i}\right)-\Phi\left(D_{i-1}\right)=k^{\prime}-k^{\prime}=0
$$</p>
<p>ç±»ä¼¼åœ°ï¼Œæ™®é€š $\mathrm{POP}$ æ“ä½œçš„æ¨è¿˜ä»£ä»·ä¹Ÿä¸º 0ã€‚æ¯ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·éƒ½æ˜¯ $O(1)$ï¼Œå› æ­¤ï¼Œn ä¸ªæ“ä½œçš„æ€»æ‘Šè¿˜ä»£ä»·ä¸º $O(n)$ã€‚ç”±äºæˆ‘ä»¬å·²ç»è®ºè¯äº† $\Phi\left(D_{i}\right) \geqslant \Phi\left(D_{0}\right)$ï¼Œå› æ­¤ n ä¸ªæ“ä½œçš„æ€»æ¨è¿˜ä»£ä»·ä¸ºæ€»å®é™…ä»£ä»·çš„ä¸Šç•Œï¼Œæ‰€ä»¥ n ä¸ªæ“ä½œçš„æœ€åæƒ…å†µæ—¶é—´ä¸º $O(n)$ã€‚</p>
<h2 id="å®ä¾‹åˆ†æ">å®ä¾‹åˆ†æ</h2>
<p>å‡å®šæˆ‘ä»¬å¯¹ä¸€ä¸ªæ•°æ®ç»“æ„æ‰§è¡Œä¸€ä¸ªç”± n ä¸ªæ“ä½œç»„æˆçš„åºåˆ—ï¼Œå½“ i ä¸¥æ ¼ä¸º 2 çš„å¹‚æ—¶ï¼Œç¬¬ i ä¸ªæ“ä½œçš„ä»£ä»·ä¸º iï¼Œå¦åˆ™ä»£ä»·ä¸º 1ã€‚</p>
<h3 id="exercise-1-clrs-171-3">Exercise 1 (CLRS 17.1-3)</h3>
<blockquote>
<p>ä½¿ç”¨<strong>èšåˆåˆ†æ</strong>ç¡®å®šæ¯ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·ã€‚</p>
</blockquote>
<p><strong>Solution</strong>: Let $n$ be arbitrary, and have the cost of operation $i$ be $c(i)$. Then we have,</p>
<p>$$
\begin{aligned}
\sum_{i = 1}^n c(i) &amp; = \sum_{i = 1}^{\left\lceil\lg n\right\rceil} 2^i + \sum_{i \leqslant n \text{ is not a power of } 2} 1 \\ &amp; \leqslant \sum_{i = 1}^{\left\lceil\lg n\right\rceil} 2^i + n \\ &amp; = 2^{1 + \left\lceil\lg n\right\rceil} - 1 + n \\ &amp; \leqslant 2n - 1 + n \\ &amp; \leqslant 3n \in O(n).
\end{aligned}
$$</p>
<p>To find the average, we divide by $n$, and the amortized cost per operation is $O(1)$.</p>
<h3 id="exercise-2-clrs-172-2">Exercise 2 (CLRS 17.2-2)</h3>
<blockquote>
<p>ä½¿ç”¨<strong>æ ¸ç®—æ³•</strong>ç¡®å®šæ¯ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·ã€‚</p>
</blockquote>
<p><strong>Solution</strong>: Let $c_i =$ cost of $i\th$ operation.</p>
<p>$$ c_i = \begin{cases} i &amp; \text{if $i$ is an exact power of $2$}, \\ 1 &amp; \text{otherwise}. \end{cases} $$</p>
<p>Charge $3$ (amortized cost $\hat c_i$) for each operation.</p>
<ul>
<li>
<p>If $i$ is not an exact power of 2, pay $1$, and store $2$ as credit.</p>
</li>
<li>
<p>If $i$ is an exact power of 2, pay $i$, using stored credit.</p>
</li>
</ul>
<p>$$
\begin{array}{cccc} \text{Operation} &amp; \text{Cost} &amp; \text{Actual cost} &amp; \text{Credit remaining} \\ \hline 1 &amp; 3 &amp; 1 &amp; 2 \\ 2 &amp; 3 &amp; 2 &amp; 3 \\ 3 &amp; 3 &amp; 1 &amp; 5 \\ 4 &amp; 3 &amp; 4 &amp; 4 \\ 5 &amp; 3 &amp; 1 &amp; 6 \\ 6 &amp; 3 &amp; 1 &amp; 8 \\ 7 &amp; 3 &amp; 1 &amp; 10 \\ 8 &amp; 3 &amp; 8 &amp; 5 \\ 9 &amp; 3 &amp; 1 &amp; 7 \\ 10 &amp; 3 &amp; 1 &amp; 9 \\ \vdots &amp; \vdots &amp; \vdots &amp; \vdots \end{array}
$$</p>
<p>Since the amortized cost is $3$ per operation, $\sum\limits_{i = 1}^n \hat c_i = 3n$.</p>
<p>We know from Exercise 1 that $\sum\limits_{i = 1}^n \hat c_i &lt; 3n$.</p>
<p>Then we have</p>
<p>$$\sum_{i = 1}^n \hat c_i \geqslant \sum_{i = 1}^n c_i \Rightarrow \text{credit} = \text{amortized cost} - \text{actual cost} \geqslant 0.$$</p>
<p>Since the amortized cost of each operation is $O(1)$, and the amount of credit never goes negative, the total cost of $n$ operations is $O(n)$.</p>
<h3 id="exercise-3-clrs-173-2">Exercise 3 (CLRS 17.3-2)</h3>
<blockquote>
<p>ä½¿ç”¨<strong>åŠ¿èƒ½æ³•</strong>ç¡®å®šæ¯ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·ã€‚</p>
</blockquote>
<p><strong>Solution</strong>: Define the potential function $\Phi(D_0) = 0$, and $\Phi(D_i) = 2i - 2^{1 + \lfloor \lg i \rfloor}$ for $i &gt; 0$. For operation 1,</p>
<p>$$\begin{aligned}\hat c_i &amp;= c_i + \Phi(D_i) - \Phi(D_{i - 1}) \\ &amp;= 1 + 2i - 2^{1+ \lfloor \lg i \rfloor} - 0 \\ &amp;= 1.\end{aligned}$$</p>
<p>For operation $i(i &gt; 1)$, if $i$ is not a power of 2, then</p>
<p>$$
\begin{aligned}
\hat c_i &amp;= c_i + \Phi(D_i) - \Phi(D_{i - 1}) \\ &amp;= 1 + 2i - 2^{1 + \lfloor \lg 1 \rfloor} - (2(i - 1) - 2^{1 + \lfloor \lg(i - 1) \rfloor})\\ &amp;= 3.
\end{aligned}
$$</p>
<p>If $i = 2^j$ for some $j \in \mathbb N$, then</p>
<p>$$
\begin{aligned}
\hat c_i &amp;= c_i + \Phi(D_i) - \Phi(D_{i - 1}) \\ &amp; = i + 2i - 2^{1 + j}-(2(i - 1) - 2^{1 + j - 1}) \\ &amp;= i + 2i - 2i - 2i + 2 + i \\ &amp;= 2.
\end{aligned}
$$</p>
<p>Thus, the amortized cost is 3 per operation.</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/algorithm/">Algorithm</a>
        
            <a href="/tags/math/">Math</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>

    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3&#43;Aro6EYUG4&#43;cU&#43;KJWu/X"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js"integrity="sha384-g7c&#43;Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI&#43;sEnkvrMWph2EDg4"crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js"integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC&#43;Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa"crossorigin="anonymous"
                defer="true"
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
        renderMathInElement(document.querySelector(`.article-content`), {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ]
        });})
</script>
    
</article>

    
        
    <script src='//cdn.jsdelivr.net/npm/@waline/client/dist/Waline.min.js'></script>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
    .waline-container .vcount {
        color: var(--card-text-color-main);
    }
</style><script>
    
    new Waline({"avatar":"robohash","dark":"body[data-scheme=\"dark\"]","el":"#waline","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"locale":{"admin":"Admin"},"requiredMeta":["name","email","url"],"serverURL":"https://waline-api-pearl.vercel.app/"});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2021 Li Kangwei
    </section>
    
    <section class="powerby">
        Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="2.2.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer="true"
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer="true"
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css"integrity="sha256-c0uckgykQ9v5k&#43;IqViZOZKc47Jn7KQil4/MP3ySA3F8="crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css"integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE="crossorigin="anonymous"
            >
            </main>
        </div>
        <script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>
<script id="ribbon" src="https://cdn.jsdelivr.net/gh/zproo/canvas-ribbon@master/js/canvas-ribbon.min.js"></script>
    </body>
</html>
